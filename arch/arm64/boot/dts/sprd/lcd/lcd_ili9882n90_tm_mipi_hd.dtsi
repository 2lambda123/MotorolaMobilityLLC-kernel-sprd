/*
 * ili9882n90 tm HD Scaling-Up LCD config dtsi file for spreadtrum
 *
 * Copyright (C) 2018, Spreadtrum Communications Inc.
 *
 * SPDX-License-Identifier: (GPL-2.0+ OR MIT)
 */

/ {
	fragment {
		target-path = "/";
		__overlay__ {
			lcds {
				lcd_ili9882n90_tm_mipi_hd: lcd_ili9882n90_tm_mipi_hd {

					sprd,dsi-work-mode = <3>; /* video burst mode*/
					sprd,dsi-lane-number = <4>;
					sprd,dsi-color-format = "rgb888";

					sprd,phy-bit-clock = <921000>;	/* kbps */
					sprd,phy-escape-clock = <20000>;/* kHz */

					sprd,width-mm = <68>;
					sprd,height-mm = <151>;

					//sprd,esd-check-enable = <1>;
					//sprd,esd-check-mode = <0>;
					//sprd,esd-check-period = <2000>;
					//sprd,esd-check-register = <0xA>;
					//sprd,esd-check-value = <0x9c>;

					sprd,power-i2c-bus = <4>;
        				sprd,power-i2c-addr = <0x3E>;
        				/*sprd,power-i2c-speed = <400000>;*/
        				sprd,power-i2c-reg = [00 01 03 FF];
        				sprd,power-i2c-val = [12 12 03 80];

					sprd,reset-on-sequence = <1 10>, <0 10>, <1 10>;
					sprd,reset-off-sequence = <1 10>;

					sprd,use-dcs-write;

					sprd,initial-command = [
						39 00 00 04 FF 98 82 00
						39 00 00 03 51 07 FF
						15 00 00 02 53 2C
						15 00 00 02 55 01
						39 00 00 03 68 04 01
						05 78 00 01 11
						39 00 00 04 FF 98 82 01
						15 00 00 02 61 2A
						15 00 00 02 62 06
						15 00 00 02 63 00
						15 00 00 02 64 09
						15 00 00 02 65 21
						15 00 00 02 66 2A
						15 00 00 02 67 2A
						15 00 00 02 68 0D
						15 00 00 02 69 1B
						15 00 00 02 6A 19
						15 00 00 02 6B 17
						15 00 00 02 6C 15
						15 00 00 02 6D 13
						15 00 00 02 6E 11
						15 00 00 02 6F 07
						15 00 00 02 70 07
						15 00 00 02 71 07
						15 00 00 02 72 07
						15 00 00 02 73 07
						15 00 00 02 74 07
						15 00 00 02 75 07
						15 00 00 02 76 07
						15 00 00 02 77 07
						15 00 00 02 78 06
						15 00 00 02 79 00
						15 00 00 02 7A 08
						15 00 00 02 7B 20
						15 00 00 02 7C 2A
						15 00 00 02 7D 2A
						15 00 00 02 7E 0C
						15 00 00 02 7F 1A
						15 00 00 02 80 18
						15 00 00 02 81 16
						15 00 00 02 82 14
						15 00 00 02 83 12
						15 00 00 02 84 10
						15 00 00 02 85 07
						15 00 00 02 86 07
						15 00 00 02 87 07
						15 00 00 02 88 07
						15 00 00 02 89 07
						15 00 00 02 8A 07
						15 00 00 02 8B 07
						15 00 00 02 8C 07
						39 00 00 04 FF 98 82 02
						15 00 00 02 06 69
						15 00 00 02 0B A0
						15 00 00 02 0C 00
						15 00 00 02 0D 16
						15 00 00 02 0E 30
						39 00 00 04 FF 98 82 0B
						15 00 00 02 9A 43
						15 00 00 02 9B 53
						15 00 00 02 9C 03
						15 00 00 02 9D 03
						15 00 00 02 9E 53
						15 00 00 02 9F 53
						15 00 00 02 AB E0
						39 00 00 04 FF 98 82 0C
						15 00 00 02 00 18
						15 00 00 02 01 4F
						15 00 00 02 02 17
						15 00 00 02 03 47
						15 00 00 02 04 18
						15 00 00 02 05 4B
						15 00 00 02 06 19
						15 00 00 02 07 54
						15 00 00 02 08 18
						15 00 00 02 09 4D
						15 00 00 02 0A 19
						15 00 00 02 0B 40
						15 00 00 02 0C 19
						15 00 00 02 0D 51
						15 00 00 02 0E 18
						15 00 00 02 0F 3D
						15 00 00 02 10 18
						15 00 00 02 11 50
						15 00 00 02 12 19
						15 00 00 02 13 43
						15 00 00 02 14 17
						15 00 00 02 15 48
						15 00 00 02 16 19
						15 00 00 02 17 42
						15 00 00 02 18 19
						15 00 00 02 19 52
						15 00 00 02 1A 1A
						15 00 00 02 1B 59
						15 00 00 02 1C 18
						15 00 00 02 1D 3E
						15 00 00 02 1E 19
						15 00 00 02 1F 55
						15 00 00 02 20 19
						15 00 00 02 21 53
						15 00 00 02 22 17
						15 00 00 02 23 49
						15 00 00 02 24 1A
						15 00 00 02 25 57
						15 00 00 02 26 1A
						15 00 00 02 27 5A
						15 00 00 02 28 17
						15 00 00 02 29 45
						15 00 00 02 2A 19 
						15 00 00 02 2B 44
						15 00 00 02 2C 19
						15 00 00 02 2D 41
						15 00 00 02 2E 18
						15 00 00 02 2F 4C
						15 00 00 02 30 19
						15 00 00 02 31 56
						15 00 00 02 32 17
						15 00 00 02 33 46
						15 00 00 02 34 18
						15 00 00 02 35 3C
						15 00 00 02 36 1A
						15 00 00 02 37 58
						15 00 00 02 38 18
						15 00 00 02 39 4E
						15 00 00 02 3A 17
						15 00 00 02 3B 4A
						15 00 00 02 3C 19
						15 00 00 02 3D 3F
						39 00 00 04 FF 98 82 0E
						15 00 00 02 49 C8
						15 00 00 02 11 10
						15 00 00 02 13 10
						15 00 00 02 45 0B
						15 00 00 02 46 BF
						15 00 00 02 4D 58
						15 00 00 02 D0 34
						15 00 00 02 00 A3
						15 00 00 02 4B 1E
						15 00 00 02 07 21
						15 00 00 02 D1 01
						15 00 00 02 D2 80
						15 00 00 02 D3 80
						15 00 00 02 D4 80
						15 00 00 02 D5 91
						15 00 00 02 D6 58
						15 00 00 02 D7 58
						15 00 00 02 D8 58
						15 00 00 02 D9 58
						15 00 00 02 DA 44
						15 00 00 02 DB 44
						15 00 00 02 DC 44
						15 00 00 02 DD 44
						15 00 00 02 C0 01
						15 00 00 02 C1 80
						15 00 00 02 40 07
						15 00 00 02 02 15
						39 00 00 04 FF 98 82 01
						15 00 00 02 B0 34
						15 00 00 02 B1 34
						15 00 00 02 B2 44
						39 00 00 04 FF 98 82 0E
						15 00 00 02 C0 01
						15 00 00 02 C1 80
						15 00 00 02 C2 08
						15 00 00 02 C4 44
						15 00 00 02 C5 44
						15 00 00 02 C6 44
						15 00 00 02 C7 40
						15 00 00 02 47 8C
						15 00 00 02 4E 9F
						15 00 00 02 4F 9F
						39 00 00 04 FF 98 82 02
						15 00 00 02 52 48
						15 00 00 02 57 48
						39 00 00 04 FF 98 82 0E
						15 00 00 02 C3 01
						15 00 00 02 40 07
						15 00 00 02 45 0B
						15 00 00 02 46 53
						15 00 00 02 49 C8
						15 00 00 02 D0 55
						15 00 00 02 D9 59
						15 00 00 02 D8 59
						15 00 00 02 D7 58
						15 00 00 02 D6 58
						15 00 00 02 D5 6A
						15 00 00 02 D4 80
						15 00 00 02 D3 80
						15 00 00 02 D2 01
						15 00 00 02 D1 80
						15 00 00 02 DD 44
						15 00 00 02 DC 44
						15 00 00 02 DB 44
						15 00 00 02 DA 44
						15 00 00 02 E1 08
						15 00 00 02 E2 59
						15 00 00 02 E3 10
						15 00 00 02 4D 58
						15 00 00 02 07 21
						39 00 00 04 FF 98 82 00
						05 14 00 01 29
						];

					sprd,sleep-in-command = [
						05 32 00 01 28
						05 96 00 01 10
						];

					display-timings {
						native-mode = <&ili9882n90_tm_timing0>;

						ili9882n90_tm_timing0: timing0 {
							clock-frequency = <128000000>;
							hactive = <720>;
							vactive = <1600>;
							hback-porch = <40>;
							hfront-porch = <40>;
							vback-porch = <24>;
							vfront-porch = <48>;
							hsync-len = <50>;
							vsync-len = <2>;
						};
					};

					oled-backlight {			
						default-brightness = <33>;	
						sprd,max-level = <255>;
						brightness-levels = [				
            		    	39 00 00 03 51 07 FF
						];
					};
				};
			};
		};
	};
};
